version: "3.4"
services:
  dev:
    container_name: cybics-stm32
    image: cybics-stm32-dev
    build:
      context: ../..
      dockerfile: .devcontainer/stm32/Dockerfile
    env_file:
      - ../../.dev.env
      - ../../.env
    volumes:
      - ../../:/CybICS
      - ~/.ssh:/home/docker/.ssh/
      - ~/.gitconfig:/home/docker/.gitconfig
    user: ${HOST_UID:-1000}:${HOST_UID:-1000}
